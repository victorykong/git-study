<h1 class="heading">高级 4：比错还错，想直接丢弃刚写的提交？</h1><p>有的时候，刚写完的 <code>commit</code> 写得实在太烂，连自己的都看不下去，与其修改它还不如丢掉重写。这种情况，就可以用 <code>reset</code> 来丢弃最新的提交。</p>
<h2 class="heading">reset --hard 丢弃最新的提交</h2><p>比如你刚写了一个 <code>commit</code>：</p>
<p></p><figure><img alt="" src="https://user-gold-cdn.xitu.io/2017/11/22/15fe19c8a6101d7f?w=484&amp;h=270&amp;f=gif&amp;s=136318"><figcaption></figcaption></figure><p></p>
<p></p><figure><img alt="" src="https://user-gold-cdn.xitu.io/2017/11/22/15fe19c8a2f08fa1?w=624&amp;h=289&amp;f=jpeg&amp;s=103942"><figcaption></figcaption></figure><p></p>
<p>写完回头看了看，你觉得「不行这得重新写」。那么你可以用 <code>reset --hard</code> 来撤销这条 <code>commit</code>。</p>
<pre><code class="hljs shell" lang="shell">git reset --hard HEAD^</code></pre><blockquote>
<p>HEAD 表示 HEAD^ 往回数一个位置的 <code>commit</code> ，上节刚说过，记得吧？</p>
</blockquote>
<p><code>HEAD^</code> 表示你要恢复到哪个 <code>commit</code>。因为你要撤销最新的一个 <code>commit</code>，所以你需要恢复到它的父 <code>commit</code> ，也就是 <code>HEAD^</code>。那么在这行之后，你的最新一条就被撤销了：</p>
<p></p><figure><img alt="" src="https://user-gold-cdn.xitu.io/2017/11/22/15fe19c8a3235853?w=466&amp;h=262&amp;f=gif&amp;s=120940"><figcaption></figcaption></figure><p></p>
<p>不过，就像图上显示的，你被撤销的那条提交并没有消失，只是你不再用到它了。如果你在撤销它之前记下了它的 <code>SHA-1</code> 码，那么你还可以通过 <code>SHA-1</code> 来找到他它。</p>
<h2 class="heading">小结</h2><p>这一节的内容是撤销最新的提交，方式是通过 <code>reset --hard</code>：</p>
<pre><code class="hljs shell" lang="shell">git reset --hard 目标commit</code></pre>